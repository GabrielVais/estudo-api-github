<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>TwitchTV API</title>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
      <link href="https://fonts.googleapis.com/css?family=Oxygen&display=swap" rel="stylesheet">
      <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
      <link rel="stylesheet" type="text/css" href="./css/styles.css">
      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
   </head>
   <body>
      <div id="vue-app">
      <div class="container">
         <div id="header">
            <h1>Github Api</h1>
            <h3 id="fccStatus"></h3>
         </div>
         <hr/>
         <div class="row">
               <div class ="col-6 ml-3">
                     <label for ="nome">Nome do usuário do github:</label>
                     <input id="nome" type="text" v-model="usuario" class="form-control" placeholder="Nome do usuário:">
                  </div>
               </div>
               <div class="col-12 mt-4 ">
                    <button type="button" class="btn btn-primary btn-block"
                    @click="getUserTwitch">Carregar dados</button>
                  </div>
             </div>
         <div class="container">
         <div class="col-12 mt-4" id="header-content">
      <div class="d-flex justify-content-center" v-if="this.showLoad && !this.showTable">
      <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<div class="table-responsive">
 <table class="table table-striped table-dark 
 animated zoomIn" v-if="!this.showLoad">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Avatar</th>
      <th scope="col">Nome:</th>
      <th scope="col">Repositorios</th>
      <th scope="col">Seguidores:</th>
      <th scope="col">Tipo:</th>
      <th scope="col">Criado em:</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td><img :src="this.dados.avatar_url" class="rounded-circle" alt=""></td>
      <td>{{ this.dados.name }}</td>
      <td>{{ this.dados.public_repos}}</td>
      <td>{{ this.dados.followers}}</td>
      <td>{{ this.dados.type}}</td>
      <td>{{ this.dados.created_at}}</td>
    </tr>
  </tbody>
</table>
</div>
 </div>
</div>
</div>
   </body>
      <script>
         new Vue({
         
         	el:'#vue-app',
         
         	data:{
         
         		characters:['', ''],
         		id:[0, 1],
         		view:999,
               usuario: "",
         		dados:{},
               showLoad:Boolean,
               showTable:true


         	},
         
         	methods:{
         
         	async getUserTwitch(){
            
            this.showLoad = true;

             this.showTable = false;


         	try{
         
         	  let response = await fetch(`https://api.github.com/users/${this.usuario}`);
         
         	  this.dados = await response.json()

              console.log(this.dados)

              return dados;
            
         
         	}
         
         	catch (err) {
          		  console.log('fetch failed', err);
         			
         
         		}finally{

               this.showLoad = false;


               }
         	
            }
         
         },
         
         
         	computed:{
         
         	},
         
         
           })
         
      </script>
</html>